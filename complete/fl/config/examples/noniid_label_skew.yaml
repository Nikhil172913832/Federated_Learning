# Non-IID Configuration with Label Skew
# Uses Dirichlet distribution for heterogeneous label distribution

experiment:
  name: "noniid_label_skew"
  description: "FedAvg with non-IID label-skewed data"
  seed: 42
  tags:
    - non-iid
    - label-skew
    - dirichlet

model:
  architecture: "simple_cnn"
  input_channels: 1
  num_classes: 10

federated:
  num_clients: 100
  clients_per_round: 10
  num_rounds: 150
  aggregation_strategy: "fedavg"
  client_selection: "random"

train:
  local_epochs: 5
  lr: 0.001
  batch_size: 32
  optimizer: "adam"

data:
  dataset: "albertvillanova/medmnist-v2"
  subset: "pneumoniamnist"
  batch_size: 32
  non_iid:
    enabled: true
    type: "label_skew"
    params:
      alpha: 0.3  # Lower alpha = more skewed

preprocess:
  resize: [28, 28]
  normalize_mean: [0.5]
  normalize_std: [0.5]
  augmentation:
    enabled: true
    params:
      hflip: true
      rotation_degrees: 15
      color_jitter: false

privacy:
  enable_dp: false

security:
  secure_agg: false
  byzantine_robust: false

tracking:
  use_mlflow: true
  use_wandb: false
